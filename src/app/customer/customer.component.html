<div class="card work-area" *ngIf="selectedCustomer==undefined">
  <div class="card-header">
    <div class="row">
      <div class="col-sm-8">
        <h4 class="card-title float-left mr-2">Müşteri Listesi</h4>
        <button class="btn btn-sm btn-round btn-outline-secondary float-left mr-2" title="Yeni Müşteri"
                (click)="btnNew_Click()"><i class="fa fa-plus"></i></button>
                <button class="btn btn-sm btn-round btn-outline-secondary float-left mr-2" title="Excel'e Aktar"
                        (click)="btnExportToExcel_Click()"><i class="fa fa-file-excel-o"></i></button>
      </div>
      <div class="col-sm-4 head-filter">
        <div class="input-group input-group-round">
          <div class="input-group-prepend">
                        <span class="input-group-text">
                            <i class="fa fa-filter"></i>
                        </span>
          </div>
          <input type="search" class="form-control filter-list-input" placeholder="Müşteri Ara.."
                 [(ngModel)]="searchText">
        </div>
      </div>
    </div>
  </div>
  <div class="card-body">
    <div class="card-list-parent" *ngIf="mainList.length > 0; else elseBlock">
      <div class="card mb-2 bg-light cursor-pointer"
           *ngFor="let customer of mainList | filterDataCustomer : searchText; index as i; trackBy: primaryKey"
           (click)="showSelectedCustomer(customer)">
        <div class="card-body">
          <div class="font-weight-500 text-dark">{{i + 1}}) {{customer.data.name}}</div>
          <div class="text-small text-dark">{{customer.data.owner}}</div>

        </div>
      </div>
    </div>
    <ng-template #elseBlock>
      <div class="card bg-danger text-white">
        <div class="card-body">Görüntülenecek veri bulunamadı.</div>
      </div>
    </ng-template>
  </div>
</div>
<div class="card work-area" *ngIf="selectedCustomer!=undefined">
  <div class="card-header">
    <div class="row">
      <div class="col-sm-12">
        <h4 class="card-title float-left mr-2">{{selectedCustomer.name}}</h4>
        <button class="btn btn-sm btn-round btn-outline-secondary float-left mr-2" title="Listeye Geri Dön"
                (click)="btnReturnList_Click()" *ngIf="openedPanel=='dashboard'"><i class="fa fa-arrow-left"></i>
        </button>
        <button class="btn btn-sm btn-round btn-outline-secondary float-left mr-2" title="Ana Ekrana Geri Dön"
                (click)="btnOpenSubPanel_Click('dashboard')" *ngIf="openedPanel!='dashboard'"><i
          class="fa fa-arrow-left"></i>
        </button>
        <button class="btn btn-sm btn-round btn-outline-secondary float-left mr-2" title="Excel'e Aktar"
                (click)="btnAccountSummaryExportToExcel_Click()" *ngIf="openedPanel=='accountSummary'"><i class="fa fa-file-excel-o"></i>
        </button>
      </div>
    </div>
  </div>
  <div *ngIf="openedPanel=='dashboard'">
    <div class="card-body" *ngIf="selectedCustomer.primaryKey!=undefined">
      <div class="row">
        <div class="col-sm-6">
            <div class="row mb-2">
              <div class="col-sm-12">
                <div class="card card-stats">
                  <div class="card-body">                    
                    <div class="row" style="border-bottom: thin solid #eee">
                      <label class="col-sm-4 col-form-label font-weight-bold">Adı</label>
                      <label class="col-sm-8 col-form-label text-muted">{{selectedCustomer.name}}</label>
                    </div>
                    <div class="row" style="border-bottom: thin solid #eee">
                      <label class="col-sm-4 col-form-label font-weight-bold">Yetkili Kişi</label>
                      <label class="col-sm-8 col-form-label text-muted">{{selectedCustomer.owner}}</label>
                    </div>
                    <div class="row" style="border-bottom: thin solid #eee">
                      <label class="col-sm-4 col-form-label font-weight-bold">E-Mail</label>
                      <label class="col-sm-8 col-form-label text-muted">{{selectedCustomer.email}}</label>
                    </div>
                    <div class="row" style="border-bottom: thin solid #eee">
                      <label class="col-sm-4 col-form-label font-weight-bold">Telefon</label>
                      <label class="col-sm-8 col-form-label text-muted">{{selectedCustomer.phone1}}</label>
                    </div>
                    <div class="row" style="border-bottom: thin solid #eee">
                      <label class="col-sm-4 col-form-label font-weight-bold">Fax</label>
                      <label class="col-sm-8 col-form-label text-muted">{{selectedCustomer.phone2}}</label>
                    </div>
                    <div class="row">
                      <label class="col-sm-4 col-form-label font-weight-bold">Adres</label>
                      <label class="col-sm-8 col-form-label text-muted">{{selectedCustomer.address}}</label>
                    </div>
                  </div>
                </div>
              </div>
            </div>
            <div class="cursor-pointer mb-1" (click)="btnOpenSubPanel_Click('edit')">
                      <div class="border p-2 bg-light" style="border-radius: 0 25px 25px 0">
                        <div class="row">
                            <div class="col-sm-2">
                              <img src="../../assets/images/customer-edit.png" width="50px">
                            </div>
                            <div class="col-sm-10">
                                <div>Düzenleme</div>
                                <small class="text-secondary">Müşteri Bilgilerini Düzenleyin</small>
                            </div>
                        </div>
                      </div>
            </div>
            <div class="cursor-pointer mb-1" (click)="btnOpenSubPanel_Click('accountSummary')">
                      <div class="border p-2 bg-light" style="border-radius: 0 25px 25px 0">
                        <div class="row">
                            <div class="col-sm-2">
                              <img src="../../assets/images/customer-account-balance.png" width="50px">
                            </div>
                            <div class="col-sm-10">
                                <div>Hesap Bakiye</div>
                                <small class="text-secondary">Müşteriye Ait Tüm Hareketleri Listele</small>
                            </div>
                        </div>
                      </div>
            </div>
            <div class="cursor-pointer mb-1" (click)="btnOpenSubPanel_Click('fileUpload')">
                      <div class="border p-2 bg-light" style="border-radius: 0 25px 25px 0">
                        <div class="row">
                            <div class="col-sm-2">
                              <img src="../../assets/images/customer-file-upload.png" width="50px">
                            </div>
                            <div class="col-sm-10">
                                <div>Yüklenen Dosyalar</div>
                                <small class="text-secondary">Müşteriye Ait Tüm Dosyaları Listele</small>
                            </div>
                        </div>
                      </div>
            </div>
            <div class="cursor-pointer mb-1" (click)="btnOpenSubPanel_Click('visit')">
                      <div class="border p-2 bg-light" style="border-radius: 0 25px 25px 0">
                        <div class="row">
                            <div class="col-sm-2">
                              <img src="../../assets/images/customer-visit.png" width="50px">
                            </div>
                            <div class="col-sm-10">
                                <div>Ziyaretler</div>
                                <small class="text-secondary">Müşteriye Ait Planlı Ziyaretleri Listeler</small>
                            </div>
                        </div>
                      </div>
            </div>

        </div>
        <div class="col-sm-6">
          <div id="panel-navigator">
            <div class="row">
              <div class="col-sm-6">
                <div class="card card-stats">
                  <div class="card-header card-header-warning card-header-icon">
                    <div class="card-icon">
                      <img src="../../assets/images/sales_invoice.png" width="30px">
                    </div>
                    <p class="card-category">Satış Faturası</p>
                    <h5 class="card-title">{{siAmount | currency:'₺'}}</h5>
                  </div>
                  <div class="card-footer">
                    <div class="stats">
                      <a class="float-right text-button" (click)="btnOpenSubPanel_Click('salesInvoice')">Yeni Kayıt
                        >></a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6">
                <div class="card card-stats">
                  <div class="card-header card-header-danger card-header-icon">
                    <div class="card-icon">
                      <img src="../../assets/images/collection.png" width="30px">
                    </div>
                    <p class="card-category">Tahsilat</p>
                    <h5 class="card-title">{{colAmount | currency:'₺'}}</h5>
                  </div>
                  <div class="card-footer">
                    <div class="stats">
                      <a class="float-right text-button" (click)="btnOpenSubPanel_Click('collection')">Yeni Kayıt >></a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 mt-1">
                <div class="card card-stats">
                  <div class="card-header card-header-success card-header-icon">
                    <div class="card-icon">
                      <img src="../../assets/images/purchase_invoice.png" width="30px">
                    </div>
                    <p class="card-category">Alım Faturası</p>
                    <h5 class="card-title">{{purchaseInvoiceAmount | currency:'₺'}}</h5>
                  </div>
                  <div class="card-footer">
                    <div class="stats">
                      <a class="float-right text-button" (click)="btnOpenSubPanel_Click('purchaseInvoice')">Yeni Kayıt
                        >></a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 mt-1">
                <div class="card card-stats">
                  <div class="card-header card-header-info card-header-icon">
                    <div class="card-icon">
                      <img src="../../assets/images/payment.png" width="30px">
                    </div>
                    <p class="card-category">Ödeme</p>
                    <h5 class="card-title">{{payAmount | currency:'₺'}}</h5>
                  </div>
                  <div class="card-footer">
                    <div class="stats">
                      <a class="float-right text-button" (click)="btnOpenSubPanel_Click('payment')">Yeni Kayıt >></a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 mt-1">
                <div class="card card-stats">
                  <div class="card-header card-header-warning card-header-icon">
                    <div class="card-icon">
                      <img src="../../assets/images/account_voucher.png" width="30px">
                    </div>
                    <p class="card-category">Cari Fiş</p>
                    <h5 class="card-title">{{voucherAmount | currency:'₺'}}</h5>
                  </div>
                  <div class="card-footer">
                    <div class="stats">
                      <a class="float-right text-button" (click)="btnOpenSubPanel_Click('accountVoucher')">Yeni Kayıt
                        >></a>
                    </div>
                  </div>
                </div>
              </div>
              <div class="col-sm-6 mt-1">
                <div class="card card-stats">
                  <div class="card-header card-header-danger card-header-icon">
                    <div class="card-icon">
                        <img src="../../assets/images/cash-desks.png" width="30px">
                    </div>
                    <p class="card-category">Toplam</p>
                    <h5 class="card-title">{{totalAmount | currency:'₺'}}</h5>
                  </div>
                  <div class="card-footer">
                    <div class="stats">
                      Toplam bakiye bilgisi
                      <span class="ml-1" *ngIf="totalAmount>0">(Alacaklı)</span>
                      <span class="ml-1" *ngIf="totalAmount<0">(Borçlu)</span>
                      <span class="ml-1" *ngIf="totalAmount==0">(Bakiye Yok)</span>
                    </div>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="openedPanel=='salesInvoice'">
    <div class="card-body">
      <div class="form-row">
        <div class="col-sm-7">
          <div class="card">
            <div class="card-header bg-secondary text-light">
              <h6>Yeni Satış Fatura Girişi</h6>
            </div>
            <div class="card-body">
              <form (ngSubmit)="btnSaveSalesInvoice_Click()" class="was-validated" #fs="ngForm">
                <div class="form-row">
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="type">Fatura Tipi</label>
                  </div>
                  <div class="col-sm-6">
                    <select class="form-control form-control-sm" name="type"
                            [(ngModel)]="newSalesInvoice.type" required>
                      <option value="sales">Satış</option>
                      <option value="return">İade</option>
                    </select>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen fatura tipi seçiniz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="receiptNo">Fiş Numarası</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm" name="receiptNo" type="text"
                           [(ngModel)]="newSalesInvoice.receiptNo" required>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="totalPrice">Tutar</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm" name="totalPrice" type="number"
                           step="any"
                           [(ngModel)]="newSalesInvoice.totalPrice" required>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="totalPrice">Tutar (+KDV)</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm" name="totalPriceWithTax"
                           type="number" step="any"
                           [(ngModel)]="newSalesInvoice.totalPriceWithTax" required>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="description">Açıklama</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm" name="description" type="text"
                           [(ngModel)]="newSalesInvoice.description">
                  </div>
                </div>
              </form>
            </div>
            <div class="card-footer">
              <div class="col-sm-3 float-right">
                <button type="button" class="btn btn-sm btn-success btn-block"
                        [disabled]="!fs.valid"
                        (click)="btnSaveSalesInvoice_Click()">Kaydet
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <div class="card bg-light">
            <div class="card-header bg-secondary text-light">
              <h6 class="float-left">Önceki Satış Faturaları</h6>
              <span class="font-weight-bold float-right">{{siAmount | currency:'₺'}}</span>
            </div>
            <div class="card-body work-area-2" *ngIf="transactionList$ | async; let transactionList; else elseBlock">
              <table class="table table-hover table-striped table-bordered">
                <tbody>
                <tr *ngFor="let item of transactionList; index as i; trackBy: primaryKey" 
                class="cursor-pointer"
                (click)="showTransactionRecord(item)">
                  <td>{{item.receiptNo}}</td>
                  <td><span class="float-right">{{item.amount | currency:'₺'}}</span></td>
                  <td><span class="float-right">{{item.insertDate | date: 'yyyy.MM.dd'}}</span></td>
                </tr>
                </tbody>
              </table>
            </div>
            <ng-template #elseBlock>
              <div class="card bg-danger text-white">
                <div class="card-body">Görüntülenecek veri bulunamadı.</div>
              </div>
            </ng-template>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="openedPanel=='collection'">
    <div class="card-body">
      <div class="form-row">
        <div class="col-sm-7">
          <div class="card">
            <div class="card-header bg-secondary text-light">
              <h6>Yeni Tahsilat Girişi</h6>
            </div>
            <div class="card-body">
              <form (ngSubmit)="btnSaveCollection_Click()" class="was-validated" #fc="ngForm">
                <div class="form-row">
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="type">Tahsilat Tipi</label>
                  </div>
                  <div class="col-sm-6">
                    <select class="form-control form-control-sm w-100" name="type" required
                            [(ngModel)]="newCollection.type">
                      <option value="cash">Nakit</option>
                      <option value="creditCard">Kredi Kartı</option>
                      <option value="pNote">Senet</option>
                    </select>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen tip seçiniz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="cashDeskPrimaryKey">Kasa</label>
                  </div>
                  <div class="col-sm-6">
                    <select class="form-control form-control-sm w-100" name="cashDeskPrimaryKey"
                            required
                            [(ngModel)]="newCollection.cashDeskPrimaryKey">
                      <option value={{item.primaryKey}}
                              *ngFor="let item of cashDeskList$ | async; index as i; trackBy: primaryKey">{{item.name}}</option>
                    </select>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen kasa seçiniz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="receiptNo">Fiş Numarası</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm w-100" name="receiptNo" type="text"
                           [(ngModel)]="newCollection.receiptNo" required>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="totalPrice">Tutar</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm w-100" name="amount" type="number" step="any"
                           [(ngModel)]="newCollection.amount" required>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="insertDate">Kayıt Tarihi</label>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left"
                           for="insertDate">{{newCollection.insertDate | date: 'yyyy.MM.dd'}}</label>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="description">Açıklama</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm w-100" name="description" type="text"
                           [(ngModel)]="newCollection.description">
                  </div>
                </div>
              </form>
            </div>
            <div class="card-footer">
              <div class="col-sm-3 float-right">
                <button type="button" class="btn btn-sm btn-success btn-block"
                        [disabled]="!fc.valid"
                        (click)="btnSaveCollection_Click()">Kaydet
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <div class="card bg-light">
            <div class="card-header bg-secondary text-light">
              <h6 class="float-left">Önceki Tahsilatlar</h6>
              <span class="font-weight-bold float-right">{{colAmount | currency:'₺'}}</span>
            </div>
            <div class="card-body work-area-2" *ngIf="transactionList$ | async; let transactionList; else elseBlock">
              <table class="table table-hover table-striped table-bordered">
                <tbody>
                <tr *ngFor="let item of transactionList; index as i; trackBy: primaryKey" 
                class="cursor-pointer"
                (click)="showTransactionRecord(item)">
                  <td>{{item.receiptNo}}</td>
                  <td><span class="float-right">{{item.amount | currency:'₺'}}</span></td>
                  <td><span class="float-right">{{item.insertDate | date: 'yyyy.MM.dd'}}</span></td>
                </tr>
                </tbody>
              </table>
            </div>
            <ng-template #elseBlock>
              <div class="card bg-danger text-white">
                <div class="card-body">Görüntülenecek veri bulunamadı.</div>
              </div>
            </ng-template>

          </div>

        </div>
      </div>
    </div>
  </div>
  <div *ngIf="openedPanel=='purchaseInvoice'">
    <div class="card-body">
      <div class="form-row">
        <div class="col-sm-7">
          <div class="card">
            <div class="card-header bg-secondary text-light">
              <h6>Yeni Alım Fatura Girişi</h6>
            </div>
            <div class="card-body">
              <form (ngSubmit)="btnSavePurchaseInvoice_Click()" class="was-validated" #fa="ngForm">
                <div class="form-row">
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="type">Fatura Tipi</label>
                  </div>
                  <div class="col-sm-6">
                    <select class="form-control form-control-sm" name="type"
                            [(ngModel)]="newPurchaseInvoice.type" required>
                      <option value="purchase">Alım</option>
                      <option value="return">İade</option>
                    </select>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="receiptNo">Fiş Numarası</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm" name="receiptNo" type="text"
                           [(ngModel)]="newPurchaseInvoice.receiptNo" required>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="totalPrice">Tutar</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm" id="totalPrice" name="totalPrice" type="number"
                           step="any"
                           [(ngModel)]="newPurchaseInvoice.totalPrice" required>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="totalPriceWithTax">Tutar (+KDV)</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm" id="totalPriceWithTax" name="totalPriceWithTax"
                           type="number" step="any"
                           [(ngModel)]="newPurchaseInvoice.totalPriceWithTax" required>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left">Açıklama</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm" name="description" type="text"
                           [(ngModel)]="newPurchaseInvoice.description">
                  </div>
                </div>
              </form>
            </div>
            <div class="card-footer">
              <div class="col-sm-3 float-right">
                <button type="button" class="btn btn-sm btn-success btn-block"
                        [disabled]="!fa.valid"
                        (click)="btnSavePurchaseInvoice_Click()">Kaydet
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <div class="card bg-light">
            <div class="card-header bg-secondary text-light">
              <h6 class="float-left">Önceki Alım Faturaları</h6>
              <span class="font-weight-bold float-right">{{purchaseInvoiceAmount | currency:'₺'}}</span>
            </div>
            <div class="card-body work-area-2" *ngIf="transactionList$ | async; let transactionList; else elseBlock">
              <table class="table table-hover table-striped table-bordered">
                <tbody>
                <tr *ngFor="let item of transactionList; index as i; trackBy: primaryKey" 
                  class="cursor-pointer"
                  (click)="showTransactionRecord(item)">
                  <td>{{item.receiptNo}}</td>
                  <td><span class="float-right">{{item.amount | currency:'₺'}}</span></td>
                  <td><span class="float-right">{{item.insertDate | date: 'yyyy.MM.dd'}}</span></td>
                </tr>
                </tbody>
              </table>
            </div>
            <ng-template #elseBlock>
              <div class="card bg-danger text-white">
                <div class="card-body">Görüntülenecek veri bulunamadı.</div>
              </div>
            </ng-template>

          </div>

        </div>
      </div>
    </div>
  </div>
  <div *ngIf="openedPanel=='payment'">
    <div class="card-body">
      <div class="form-row">
        <div class="col-sm-7">
          <div class="card">
            <div class="card-header bg-secondary text-light">
              <h6>Yeni Ödeme Girişi</h6>
            </div>
            <div class="card-body">
              <form (ngSubmit)="btnSavePayment_Click()" class="was-validated" #fp="ngForm">
                <div class="form-row">
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="type">Ödeme Tipi</label>
                  </div>
                  <div class="col-sm-6">
                    <select class="form-control form-control-sm w-100" id="type" name="type" required
                            [(ngModel)]="newPayment.type">
                      <option value="cash">Nakit</option>
                      <option value="creditCard">Kredi Kartı</option>
                      <option value="pNote">Senet</option>
                    </select>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="cashDeskPrimaryKey">Kasa</label>
                  </div>
                  <div class="col-sm-6">
                    <select class="form-control form-control-sm w-100" id="cashDeskPrimaryKey" name="cashDeskPrimaryKey"
                            required
                            [(ngModel)]="newPayment.cashDeskPrimaryKey">
                      <option value={{item.primaryKey}}
                              *ngFor="let item of cashDeskList$ | async; index as i; trackBy: primaryKey">{{item.name}}</option>
                    </select>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen kasa seçiniz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="receiptNo">Fiş Numarası</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm w-100" id="receiptNo" name="receiptNo" type="text"
                           [(ngModel)]="newPayment.receiptNo" required>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="totalPrice">Tutar</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm w-100" id="amount" name="amount" type="number" step="any"
                           [(ngModel)]="newPayment.amount" required>
                    <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="insertDate">Kayıt Tarihi</label>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left"
                           for="insertDate">{{newPayment.insertDate | date: 'yyyy.MM.dd'}}</label>
                  </div>
                  <div class="col-sm-6">
                    <label class="col-form-label float-left" for="description">Açıklama</label>
                  </div>
                  <div class="col-sm-6">
                    <input class="form-control form-control-sm w-100" id="description" name="description" type="text"
                           [(ngModel)]="newPayment.description">
                  </div>
                </div>
              </form>
            </div>
            <div class="card-footer">
              <div class="col-sm-3 float-right">
                <button type="button" class="btn btn-sm btn-success btn-block"
                        [disabled]="!fp.valid"
                        (click)="btnSavePayment_Click()">Kaydet
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <div class="card bg-light">
            <div class="card-header bg-secondary text-light">
              <h6 class="float-left">Önceki Ödemeler</h6>
              <span class="font-weight-bold float-right">{{payAmount | currency:'₺'}}</span>
            </div>
            <div class="card-body work-area-2" *ngIf="transactionList$ | async; let transactionList; else elseBlock">
              <table class="table table-hover table-striped table-bordered">
                <tbody>
                <tr *ngFor="let item of transactionList; index as i; trackBy: primaryKey" 
                class="cursor-pointer"
                (click)="showTransactionRecord(item)">
                  <td>{{item.receiptNo}}</td>
                  <td><span class="float-right">{{item.amount | currency:'₺'}}</span></td>
                  <td><span class="float-right">{{item.insertDate | date: 'yyyy.MM.dd'}}</span></td>
                </tr>
                </tbody>
              </table>
            </div>
            <ng-template #elseBlock>
              <div class="card bg-danger text-white">
                <div class="card-body">Görüntülenecek veri bulunamadı.</div>
              </div>
            </ng-template>

          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="openedPanel=='accountVoucher'">
    <div class="card-body">
      <div class="form-row">
        <div class="col-sm-7">
          <div class="card">
              <div class="card-header bg-secondary text-light">
                <h6>Yeni Fiş Girişi</h6>
              </div>
            <div class="card-body">
              <form (ngSubmit)="btnSaveVoucher_Click()" class="was-validated" #v="ngForm">
                <div class="form-row">
                    <div class="col-sm-6">
                        <label class="col-form-label float-left" for="typeTr">Fiş Tipi</label>
                    </div>
                    <div class="col-sm-6">
                        <select class="form-control form-control-sm w-100" id="type" name="type" required
                        [(ngModel)]="newVoucher.type">
                            <option value="creditVoucher">Alacaklandırma</option>
                            <option value="debitVoucher">Borçlandırma</option>
                        </select>
                        <div class="invalid-feedback invalid-inpput-info">Lütfen tip seçiniz.</div>
                    </div>
                    <div class="col-sm-6">
                        <label class="col-form-label float-left" for="cashDeskPrimaryKey">Kasa</label>
                    </div>
                    <div class="col-sm-6">
                        <select class="form-control form-control-sm w-100" id="cashDeskPrimaryKey" name="cashDeskPrimaryKey" required
                        [(ngModel)]="newVoucher.cashDeskPrimaryKey">
                            <option value={{item.primaryKey}} *ngFor="let item of cashDeskList$ | async; index as i; trackBy: primaryKey">{{item.name}}</option>
                        </select>
                        <div class="invalid-feedback invalid-inpput-info">Lütfen kasa seçiniz.</div>
                    </div>
                    <div class="col-sm-6">
                        <label class="col-form-label float-left" for="receiptNo">Fiş Numarası</label>
                    </div>
                    <div class="col-sm-6">
                        <input class="form-control form-control-sm w-100" id="receiptNo" name="receiptNo" type="text"
                            [(ngModel)]="newVoucher.receiptNo" required>
                        <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                    </div>
                    <div class="col-sm-6">
                        <label class="col-form-label float-left" for="totalPrice">Tutar</label>
                    </div>
                    <div class="col-sm-6">
                        <input class="form-control form-control-sm w-100" id="amount" name="amount" type="number" step="any"
                            [(ngModel)]="newVoucher.amount" required>
                        <div class="invalid-feedback invalid-inpput-info">Lütfen alanı doldurunuz.</div>
                    </div>
                    <div class="col-sm-6">
                        <label class="col-form-label float-left" for="description">Açıklama</label>
                    </div>
                    <div class="col-sm-6">
                        <input class="form-control form-control-sm w-100" id="description" name="description" type="text"
                            [(ngModel)]="newVoucher.description">
                    </div>
                </div>
              </form>
            </div>
            <div class="card-footer">
              <div class="col-sm-3 float-right">
                <button type="button" class="btn btn-sm btn-success btn-block"
                        [disabled]="!v.valid"
                        (click)="btnSaveVoucher_Click()">Kaydet
                </button>
              </div>
            </div>
          </div>
        </div>
        <div class="col-sm-5">
          <div class="card bg-light">
              <div class="card-header bg-secondary text-light">
                <h6 class="float-left">Önceki Fişler</h6>
                <span class="font-weight-bold float-right">{{voucherAmount | currency:'₺'}}</span>
              </div>
              <div class="card-body work-area-2" *ngIf="transactionList$ | async; let transactionList; else elseBlock">
                <table class="table table-hover table-striped table-bordered">
                  <tbody>
                  <tr *ngFor="let item of transactionList; index as i; trackBy: primaryKey" 
                  class="cursor-pointer"
                  (click)="showTransactionRecord(item)">
                    <td>{{item.receiptNo}}</td>
                    <td><span class="float-right">{{item.amount | currency:'₺'}}</span></td>
                    <td><span class="float-right">{{item.insertDate | date: 'yyyy.MM.dd'}}</span></td>
                  </tr>
                  </tbody>
                </table>
              </div>
              <ng-template #elseBlock>
                <div class="card bg-danger text-white">
                  <div class="card-body">Görüntülenecek veri bulunamadı.</div>
                </div>
              </ng-template>

          </div>

        </div>
      </div>
    </div>
  </div>
  <div *ngIf="openedPanel=='edit'">
    <div class="card-body">
      <div class="card card-stats">
        <div class="card-body">
          <form (ngSubmit)="btnSave_Click()" class="was-validated">
            <div class="form-row form-inline">
              <div class="col-sm-3">
                <label class="col-form-label float-left" for="customerName">Müşteri Adı</label>
              </div>
              <div class="col-sm-3">
                <input class="form-control form-control-sm w-100" id="customerName" name="customerName" type="text"
                       [(ngModel)]="selectedCustomer.name" required>
                <div class="invalid-feedback">Lütfen alanı doldurunuz.</div>
              </div>
              <div class="col-sm-3">
                <label class="col-form-label float-left" for="customerCode">Kod</label>
              </div>
              <div class="col-sm-3">
                <input class="form-control form-control-sm w-100" id="customerCode" name="customerCode" type="text"
                       [(ngModel)]="selectedCustomer.code">
              </div>
              <div class="col-sm-3">
                <label class="col-form-label float-left" for="isActive">Aktif Durumu</label>
              </div>
              <div class="col-sm-3">
                <select class="form-control form-control-sm w-100" id="isActive" name="isActive"
                        [(ngModel)]="selectedCustomer.isActive">
                  <option [ngValue]="true">Aktif</option>
                  <option [ngValue]="false">Pasif</option>
                </select>
              </div>
              <div class="col-sm-3">
                <label class="col-form-label float-left" for="phone1">Telefon</label>
              </div>
              <div class="col-sm-3">
                <input class="form-control form-control-sm w-100" id="phone1" name="phone1" type="text"
                       [(ngModel)]="selectedCustomer.phone1" required>
                <div class="invalid-feedback">Lütfen alanı doldurunuz.</div>
              </div>
              <div class="col-sm-3">
                <label class="col-form-label float-left" for="phone2">Fax</label>
              </div>
              <div class="col-sm-3">
                <input class="form-control form-control-sm w-100" id="phone2" name="phone2" type="text"
                       [(ngModel)]="selectedCustomer.phone2">
              </div>
              <div class="col-sm-3">
                <label class="col-form-label float-left" for="eMail">E-Mail</label>
              </div>
              <div class="col-sm-3">
                <input class="form-control form-control-sm w-100" id="eMail" name="eMail" type="email"
                       [(ngModel)]="selectedCustomer.email">
              </div>
              <div class="col-sm-3">
                <label class="col-form-label float-left" for="owner">Yetkili Kişi</label>
              </div>
              <div class="col-sm-3">
                <input class="form-control form-control-sm w-100" id="owner" name="owner" type="text"
                       [(ngModel)]="selectedCustomer.owner" required>
                <div class="invalid-feedback">Lütfen alanı doldurunuz.</div>
              </div>
              <div class="col-sm-6"></div>
              <div class="col-sm-3">
                <label class="col-form-label float-left" for="address">Adres</label>
              </div>
              <div class="col-sm-9">
                <input class="form-control form-control-sm w-100" id="address" name="address" type="text"
                       [(ngModel)]="selectedCustomer.address">
              </div>
            </div>
          </form>
        </div>
        <div class="card-footer">
          <div class="col-sm-3" *ngIf="selectedCustomer.primaryKey!=undefined">
            <button type="button" class="btn btn-sm btn-danger btn-block" (click)="btnRemove_Click()">Kaldır</button>
          </div>
          <div class="col-sm-3 float-right">
            <button type="button" class="btn btn-sm btn-success btn-block" (click)="btnSave_Click()">Kaydet</button>
          </div>
        </div>
      </div>
    </div>
  </div>
  <div *ngIf="openedPanel=='accountSummary'">
    <div class="card-body">
        <div class="list-group" *ngIf="transactionList; else elseBlock">
          <div class="list-group-item bg-success text-light">
            <div class="row">
              <div class="col-sm-1">Sıra</div>
              <div class="col-sm-5">İşlem</div>
              <div class="col-sm-2">Fiş Numarası</div>
              <div class="col-sm-2"><span class="float-right">Tutar</span></div>
              <div class="col-sm-2"><span class="float-right">Tarih</span></div>      
          </div>
        </div>
          <div class="list-group-item list-group-item-action list-group-item-light" *ngFor="let item of transactionList; index as i; trackBy: primaryKey">
            <div class="row">
            <div class="col-sm-1"><span class="text-bold text-dark">{{i+1}})</span></div>
            <div class="col-sm-5">{{item.transactionTypeTr}}</div>
            <div class="col-sm-2">{{item.receiptNo}}</div>
            <div class="col-sm-2"><span class="float-right">{{item.amount | currency:'₺'}}</span></div>
            <div class="col-sm-2"><span class="float-right">{{item.insertDate | date: 'yyyy.MM.dd'}}</span></div>      
          </div>
        </div>
          <li class="list-group-item list-group-item-success">
            <div class="row">
              <div class="col-sm-8">Toplam</div>
              <div class="col-sm-2"><span class="float-right">{{totalValues | currency:'₺'}}</span></div>
            </div>
          </li>
        </div>
        <ng-template #elseBlock>
          <div class="card bg-danger text-white">
            <div class="card-body">Görüntülenecek veri bulunamadı.</div>
          </div>
        </ng-template>
    </div>
  </div>
  <div *ngIf="openedPanel=='fileUpload'">
    <div class="card-body">
        <div class="list-group mb-2" *ngIf="filesList$ | async; let filesList; else elseBlock">
          <div class="list-group-item bg-success text-light">
            <div class="row">
              <div class="col-sm-2">Sıra</div>
              <div class="col-sm-6">Dosya Adı</div>
              <div class="col-sm-2">Boyut</div>
              <div class="col-sm-2"><span class="float-right">Tarih</span></div>
            </div>
          </div>
          <div class="list-group-item list-group-item-action list-group-item-light cursor-pointer"
          (click)="showSelectedRecord(item)"
           *ngFor="let item of filesList; index as i; trackBy: primaryKey">
            <div class="row">
              <div class="col-sm-2"><span class="text-bold text-dark">{{i+1}})</span></div>
              <div class="col-sm-6">{{item.data.fileName}}</div>
              <div class="col-sm-2">{{item.data.size}} Byte</div>
              <div class="col-sm-2"><span class="float-right">{{item.data.insertDate | date: 'yyyy.MM.dd'}}</span></div>
            </div>
          </div>
        </div>
        <ng-template #elseBlock>
          <div class="card bg-danger text-white">
            <div class="card-body">Görüntülenecek veri bulunamadı.</div>
          </div>
        </ng-template>
    </div>
  </div>
  <div *ngIf="openedPanel=='visit'">
    <div class="card-body">
        <div class="list-group mb-2" *ngIf="visitList$ | async; let visitList; else elseBlock">
        <div class="list-group-item bg-success text-light">
          <div class="row">
            <div class="col-sm-2">Sıra</div>
            <div class="col-sm-5">Personel</div>
            <div class="col-sm-3">Açıklama</div>
            <div class="col-sm-2"><span class="float-right">Tarih</span></div>
          </div>
        </div>
        <div class="list-group-item list-group-item-action list-group-item-light"
         *ngFor="let item of visitList; index as i; trackBy: primaryKey">
          <div class="row">
            <div class="col-sm-2"><span class="text-bold text-dark">{{i+1}})</span></div>
            <div class="col-sm-5">{{item.returnData.employeeName}}</div>
            <div class="col-sm-3">{{item.returnData.visit.description}}</div>
            <div class="col-sm-2"><span class="float-right">{{item.returnData.visit.visitDate | date: 'yyyy.MM.dd'}}</span></div>
          </div>
        </div>
      </div>
      <ng-template #elseBlock>
        <div class="card bg-danger text-white">
          <div class="card-body">Görüntülenecek veri bulunamadı.</div>
        </div>
      </ng-template>
    </div>
  </div>
</div>
